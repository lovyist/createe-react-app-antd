[TOC]

# 接口文档

## 全局说明

IP: 120.27.93.206
Port: 8800

返回数据格式: 

```
{
    errNo: 0,		// 错误码, 0表示无错误
    errMsg: "",		// 错误信息
    data: [ ]		// 数据内容
}
```

*返回值没有数据内容的接口, 不再列举返回样例, 根据错误码判断请求接口即可*

*注: jsonp请求时, 添加一个jsonp字段即可, 表示回调函数*

## 登录/注册

### 注册

* URL: /user/pass/register
* Method: POST
* Params
	* phoneNum
	* username
	* password
	* phoneCode

### 验证手机/用户名是否注册

* URL: /user/pass/isRegister
* Method: GET
* Params:
	* type	值必须是(username|phoneNum)之一
	* value	对应的属性值

### 发送手机验证码

* URL: /user/pass/sendPhoneCode
* Method: POST
* Params:
	* phoneNum
	* codeType 验证码类型, 值必须是(register|resetPwd)之一

### 登录

* URL: /user/pass/login
* Method: POST
* Params:
	* username	该key对应的可以是用户名, 也可以是手机号
	* password

*注: 登录成功之后, 会设置一个cookie(dd_token), 之后所有的涉及登录状态的操作都是通过这个cookie的值判断*

### 登出

* URL: /user/pass/logout
* METHOD: GET

*注: 请求登录时, 必须是已登录状态*

### 重置密码

* url: /user/pass/resetPwd
* method: post
* params:
	* phoneNum
	* password
	* phoneCode	验证码可以通过上面的接口发送

## 首页

### 轮播图

* url: /home/index/getIndexList
* method: get
* response

```
{
    errNo: 0,
    errMsg: "",
    data: [{
        infoId: "27",
        catId: "6",
        userId: "1",
        title: "测试标题",
        image: "",
        content: "测试内容",
        demand: "测试要求",
        extra: "测试备注",
        address: "411302",
        detailAddress: "南阳理工学院",
        contact: "测试联系人",
        phoneNum: "18511892629",
        createdTime: "1494486239"
    }, {
        infoId: "28",
        catId: "7",
        userId: "1",
        title: "测试2",
        image: "Nk0fO614944881.jpg",
        content: "测试2",
        demand: "测试2",
        extra: "测试2",
        address: "411302",
        detailAddress: "南工",
        contact: "测试2",
        phoneNum: "18511892629",
        createdTime: "1494488181"
    }, {
        infoId: "36",
        catId: "13",
        userId: "1",
        title: "教育111",
        image: "upload/xeAm2114945001.png",
        content: "教育111",
        demand: "教育111",
        extra: "教育111",
        address: "411302",
        detailAddress: "教育111",
        contact: "教育111",
        phoneNum: "18511892629",
        createdTime: "1494500101"
    }]
}
```

### 推荐列表

* url: /home/index/getRecList
* method: get
* params:
	* page	默认1
* response

```
{
    errNo: 0,
    errMsg: "",
    data: [{
        infoId: "27",
        catId: "6",
        userId: "1",
        title: "测试标题",
        image: "",
        content: "测试内容",
        demand: "测试要求",
        extra: "测试备注",
        address: "411302",
        detailAddress: "南阳理工学院",
        contact: "测试联系人",
        phoneNum: "18511892629",
        createdTime: "1494486239"
    }, {
        infoId: "28",
        catId: "7",
        userId: "1",
        title: "测试2",
        image: "Nk0fO614944881.jpg",
        content: "测试2",
        demand: "测试2",
        extra: "测试2",
        address: "411302",
        detailAddress: "南工",
        contact: "测试2",
        phoneNum: "18511892629",
        createdTime: "1494488181"
    }, {
        infoId: "36",
        catId: "13",
        userId: "1",
        title: "教育111",
        image: "upload/xeAm2114945001.png",
        content: "教育111",
        demand: "教育111",
        extra: "教育111",
        address: "411302",
        detailAddress: "教育111",
        contact: "教育111",
        phoneNum: "18511892629",
        createdTime: "1494500101"
    }]
}
```

## 分类

### 获取分类列表

* url: /cat/Index/getCatList
* method: get
* params:
	* type	值必须是(recruit|travel|edu)之一
* response:

```
{
    errNo: 0,
    errMsg: "",
    data: [{
        catId: "10",
        catName: "国内游",
        parentId: "2",
        sort: "100",
        description: "旅游度假-子类"
    }, {
        catId: "11",
        catName: "省内游",
        parentId: "2",
        sort: "100",
        description: "旅游度假-子类"
    }, {
        catId: "12",
        catName: "省外游",
        parentId: "2",
        sort: "100",
        description: "旅游度假-子类"
    }]
}
```

## 兼职招聘

### 发布兼职

* url: /recruit/index/publish
* method: post
* params:
	* catId
	* title		标题
  * image   图片
	* content	内容
	* demand		要求
	* extra		备注
	* contact	联系人
	* phoneNum	手机号
	* salary		薪水(元)
	* salaryType	薪资类型: 0：面议，1：小时，2：日，3：周，4：月，5：年
	* number		招聘人数
	* startDate	开始日期
	* endDate	结束日期
	* startTime	开始时间
	* endTime	结束时间
	* address	地址: 以地区码表示
	* detailAddress	详细地址

### 轮播图

* url: /recruit/index/getRecList
* method: get
* response

```
{
    errNo: 0,
    errMsg: "",
    data: [{
        infoId: "37",
        catId: "6",
        userId: "1",
        title: "sdfsd",
        image: "upload/l1zFwC14946041.png",
        content: "fsdf",
        demand: "sdf",
        extra: "sdfsd",
        address: "411302",
        detailAddress: "dfsdf",
        contact: "测试联系人",
        phoneNum: "18511892629",
        createdTime: "1494604194"
    } ... {
        infoId: "27",
        catId: "6",
        userId: "1",
        title: "测试标题",
        image: "",
        content: "测试内容",
        demand: "测试要求",
        extra: "测试备注",
        address: "411302",
        detailAddress: "南阳理工学院",
        contact: "测试联系人",
        phoneNum: "18511892629",
        createdTime: "1494486239"
    }]
}
```

### 兼职列表

* url: /recruit/index/getRecruitList
* method: get
* params:
	* catId
	* page
* response

```
{
    errNo: 0,
    errMsg: "",
    data: [{
        infoId: "37",
        catId: "6",
        userId: "1",
        title: "sdfsd",
        image: "upload/l1zFwC14946041.png",
        content: "fsdf",
        demand: "sdf",
        extra: "sdfsd",
        address: "河南省-南阳市-宛城区",
        detailAddress: "dfsdf",
        contact: "测试联系人",
        phoneNum: "18511892629",
        createdTime: "1494604194",
        username: "lovyhui",
        catName: "家教"
    }, {
        infoId: "27",
        catId: "6",
        userId: "1",
        title: "测试标题",
        image: "",
        content: "测试内容",
        demand: "测试要求",
        extra: "测试备注",
        address: "河南省-南阳市-宛城区",
        detailAddress: "南阳理工学院",
        contact: "测试联系人",
        phoneNum: "18511892629",
        createdTime: "1494486239",
        username: "lovyhui",
        catName: "家教"
    }]
}
```

### 兼职详情

* url: /recruit/index/getRecruitInfo
* method: get
* params:
	* infoId		所有信息的唯一id
* response

```
{
    errNo: 0,
    errMsg: "",
    data: {
        infoId: "29",
        catId: "7",
        userId: "1",
        title: "测试2",
        image: "Tke7RO14944888.jpg",
        content: "测试2",
        demand: "测试2",
        extra: "测试2",
        address: "411302",
        detailAddress: "南工",
        contact: "测试2",
        phoneNum: "18511892629",
        viewCnt: "30",
        commCnt: "0",
        createdTime: "1494488833",
        salary: 0,
        salaryType: "面议",
        number: "9",
        startDate: "2017-05-11",
        endDate: "2017-05-11",
        startTime: "03:49:00",
        endTime: "03:49:00",
        catName: "会计"
    }
}
```

### 删除兼职

* url: /recruit/index/delete
* method: post
* params:
	* infoId
	
	
## 旅游度假

### 发布旅游

* url: /travel/index/publish
* method: post
* params:
	* catId
	* title
  * image 图片
	* content
	* demand
	* extra
	* contact
	* phoneNum
	* price			价格
	* hotelType    宾馆: 1: 露营, 2: 农家乐, 3: 旅社, 4: 宾馆
	* startDate
	* endDate
	* startPlace	出发地点
	* endPlace		返回地点
	* goVehicle		去时交通: 1：大巴，2：火车，3：飞机，4：轮船
	* backVehicle	回时交通: 1：大巴，2：火车，3：飞机，4：轮船

### 轮播图

* url: /travel/index/getRecList
* method: get
* response

```
返回数据接口同兼职轮播图
```

### 旅游列表

* url: /travel/index/getTravelList
* method: get
* params:
	* catId
	* page
* response

```
返回数据结构同兼职列表
```

### 旅游详情

* url: /travel/index/getTravelInfo
* method: get
* params:
	* infoId		所有信息的唯一id
* response

```
{
    errNo: 0,
    errMsg: "",
    data: {
        infoId: "33",
        catId: "10",
        userId: "1",
        title: "sss",
        image: "upload/lnD9QS14944983.png",
        content: "sss",
        demand: "ss",
        extra: "ss",
        address: "0",
        detailAddress: "",
        contact: "ss",
        phoneNum: "18511892629",
        viewCnt: "0",
        commCnt: "0",
        createdTime: "1494498329",
        price: "33",
        hotelType: "露营",
        startDate: "2017-05-11",
        endDate: "2017-05-11",
        startPlace: "c",
        endPlace: "mmm",
        goVehicle: "大巴",
        backVehicle: "大巴",
        catName: "国内游"
    }
}
```

### 删除兼职

* url: /travel/index/delete
* method: post
* params:
	* infoId

## 教育培训

### 发布教育

* url: /edu/index/publish
* method: post
* params:
	* catId
	* title
  * image 图片
	* content
	* demand
	* extra
	* contact
	* phoneNum
	* address
	* detailAddress
	* price
	* startDate
	* endDate
	* startTime
	* endTime

### 轮播图

* url: /edu/index/getRecList
* method: get
* response

```
返回数据接口同兼职轮播图
```

### 教育列表

* url: /edu/index/getEduList
* method: get
* params:
	* catId
	* page
* response

```
返回数据结构同兼职列表
```

### 教育详情

* url: /edu/index/getEduInfo
* method: get
* params:
	* infoId		所有信息的唯一id
* response

```
{
    errNo: 0,
    errMsg: "",
    data: {
        infoId: "36",
        catId: "13",
        userId: "1",
        title: "教育111",
        image: "upload/xeAm2114945001.png",
        content: "教育111",
        demand: "教育111",
        extra: "教育111",
        address: "411302",
        detailAddress: "教育111",
        contact: "教育111",
        phoneNum: "18511892629",
        viewCnt: "0",
        commCnt: "0",
        createdTime: "1494500101",
        price: "678",
        startDate: "2017-05-11",
        endDate: "2017-05-11",
        startTime: "10:01:00",
        endTime: "10:01:00",
        catName: "考研"
    }
}
```

### 删除教育

* url: /edu/index/delete
* method: post
* params:
	* infoId

## 个人中心

### 个人信息

* url: /user/center/profile
* method: get
* response:

```
{
    errNo: 0,
    errMsg: "",
    data: {
        userId: "1",
        username: "lovyhui",
        userIcon: "",
        gender: "1",
        birthDay: "1970-01-01",
        phoneNum: "18511892629",
        email: "",
        address: "",
        detailAddress: ""
    }
}
```

### 发布列表

* url: /user/center/getPubList
* method: get
* params: 
	* type: 值必须是(recruit|travel|edu)之一
	* page
* response

```
返回数据结构同兼职列表
```

### 收藏/取消收藏

* url: /user/center/coll
* method: post
* params:
	* infoId
	* catId
	* type: 0: 取消, 1: 收藏

### 收藏列表

* url: /user/center/getCollList
* method: get
* params:
	* type: 值必须是(recruit|travel|edu)之一
	* page
* response

```
返回数据结构同兼职列表
```






 









